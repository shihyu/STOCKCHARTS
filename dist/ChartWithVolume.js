var ChartWithVolume =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar str2number = __webpack_require__(1);\nvar d3 = __webpack_require__(2);\nvar Raphel = __webpack_require__(3);\n\nvar _require = __webpack_require__(4),\n    OUTTER_MARGIN = _require.OUTTER_MARGIN,\n    VOL_HEIGHT = _require.VOL_HEIGHT,\n    BOTTOM_TEXT_HEIGHT = _require.BOTTOM_TEXT_HEIGHT,\n    PIXEL_FIX = _require.PIXEL_FIX,\n    STROKE_COLOR = _require.STROKE_COLOR,\n    FONT_SIZE = _require.FONT_SIZE,\n    TEXT_COLOR = _require.TEXT_COLOR;\n\nvar px = __webpack_require__(5);\nvar createPathString = __webpack_require__(6);\nvar ChartPrototype = __webpack_require__(7);\n\nvar ChartWithVolume = function ChartWithVolume(container, _ref) {\n\tvar chartWidth = _ref.chartWidth,\n\t    chartHeight = _ref.chartHeight,\n\t    candleData = _ref.candleData,\n\t    needVolume = _ref.needVolume,\n\t    ticksY = _ref.ticksY,\n\t    cycle = _ref.cycle,\n\t    tooltip = _ref.tooltip;\n\n\tthis.container = container;\n\tthis.paper = new Raphel(container, chartWidth, chartHeight);\n\tthis.chartWidth = chartWidth;\n\tthis.chartHeight = chartHeight;\n\n\tthis.candleData = candleData.map(str2number);\n\tthis.needVolume = needVolume || false;\n\tthis.ticksY = ticksY || 4;\n\tthis.cycle = cycle;\n\n\tthis.options = {\n\t\ttooltip: tooltip\n\t};\n};\n\nChartWithVolume.prototype = {\n\tdraw: function draw() {\n\t\tvar _this = this;\n\n\t\tvar volHeight = this.needVolume ? VOL_HEIGHT : 0;\n\t\tvar candleData = this.candleData;\n\n\n\t\tvar low = candleData.reduce(function (prev, curr) {\n\t\t\tif (curr.low < prev) {\n\t\t\t\treturn curr.low;\n\t\t\t}\n\n\t\t\treturn prev;\n\t\t}, candleData[0].low);\n\n\t\tvar high = candleData.reduce(function (prev, curr) {\n\t\t\tif (curr.high > prev) {\n\t\t\t\treturn curr.high;\n\t\t\t}\n\n\t\t\treturn prev;\n\t\t}, candleData[0].high);\n\n\t\tthis.low = low;\n\t\tthis.high = high;\n\n\t\tthis.width = this.chartWidth - 40; // 总宽度减y轴文字宽度\n\t\tthis.height = this.chartHeight - volHeight - FONT_SIZE - BOTTOM_TEXT_HEIGHT; // 总高度减量柱高度减x轴文字高度减底部标注高度\n\n\t\tthis.paper.rect(0, 0, this.width, this.height).attr({\n\t\t\tstroke: STROKE_COLOR\n\t\t});\n\n\t\tvar total = candleData.length;\n\t\t// var predictPercent = (total - this.cycle) / total\n\n\t\t// console.log('predictPercent:', predictPercent)\n\n\t\t// predictPercent = predictPercent.toFixed(2)\n\n\t\tvar predictPercent = 0.7;\n\n\t\t// 预测部分图形的偏移量\n\t\tthis.offset = this.width * predictPercent;\n\n\t\tvar yScale = d3.scaleLinear().domain([0, this.ticksY - 1]).rangeRound([0, this.height]);\n\n\t\t// 预测部分半透明虚框\n\t\tvar pathString = createPathString({\n\t\t\tx: this.offset,\n\t\t\ty: 0\n\t\t}, {\n\t\t\tx: this.width,\n\t\t\ty: 0\n\t\t}, {\n\t\t\tx: this.width,\n\t\t\ty: this.height + volHeight + FONT_SIZE\n\t\t}, {\n\t\t\tx: this.offset,\n\t\t\ty: this.height + volHeight + FONT_SIZE\n\t\t}, {\n\t\t\tx: this.offset,\n\t\t\ty: 0\n\t\t});\n\n\t\tthis.paper.path(pathString).attr({\n\t\t\t'fill': '#f5f9fd',\n\t\t\t'stroke-width': 1,\n\t\t\t'fill-opacity': 0.5,\n\t\t\t'stroke': '#79c0ff'\n\t\t});\n\n\t\t// x轴信息\n\t\tvar dates = [candleData[0].time, candleData[candleData.length - this.cycle].time, candleData[candleData.length - 1].time];\n\n\t\t// console.log(dates)\n\n\t\tdates = dates.map(function (v) {\n\n\t\t\tvar d = new Date(v),\n\t\t\t    month = '' + (d.getMonth() + 1),\n\t\t\t    day = '' + d.getDate(),\n\t\t\t    year = d.getFullYear();\n\n\t\t\tif (month.length < 2) month = '0' + month;\n\t\t\tif (day.length < 2) day = '0' + day;\n\n\t\t\treturn [year, month, day].join('-');\n\t\t});\n\n\t\t// console.log(dates)\n\n\t\tdates.forEach(function (item, index, arr) {\n\t\t\tvar elem = _this.paper.text(0, 0, item).attr('fill', '#999');\n\t\t\tvar box = elem.getBBox();\n\t\t\tvar width = box.width,\n\t\t\t    height = box.height;\n\n\n\t\t\tvar x,\n\t\t\t    y = _this.height + height / 2 + (FONT_SIZE - height) / 2;\n\n\t\t\tif (index === 0) {\n\t\t\t\tx = 0 + width / 2;\n\t\t\t} else if (index === 1) {\n\t\t\t\tx = _this.offset - width / 2;\n\t\t\t} else {\n\t\t\t\tx = _this.width - width / 2;\n\t\t\t}\n\n\t\t\telem.attr({\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t});\n\t\t});\n\n\t\t// K线横向辅助线\n\t\tthis.drawHelperLines(yScale);\n\t\tthis.drawCandles(this.width);\n\n\t\t// 绘制量柱\n\t\tif (this.needVolume) {\n\t\t\tthis.drawVolumes();\n\t\t}\n\n\t\tthis.drawCycleBlock();\n\t\t// 事件\n\t\tif (this.options.tooltip) {\n\t\t\tthis.createEventLayerNormal();\n\t\t}\n\t},\n\tdrawCycleBlock: function drawCycleBlock() {\n\t\tconsole.log('drawCycleBlock fire');\n\t\t// 后续走势标注\n\t\tthis.paper.path(createPathString({\n\t\t\tx: this.offset,\n\t\t\ty: this.chartHeight - BOTTOM_TEXT_HEIGHT\n\t\t}, {\n\t\t\tx: this.offset,\n\t\t\ty: this.chartHeight\n\t\t})).attr({\n\t\t\tstroke: TEXT_COLOR\n\t\t});\n\n\t\tthis.paper.path(createPathString({\n\t\t\tx: this.width,\n\t\t\ty: this.chartHeight - BOTTOM_TEXT_HEIGHT\n\t\t}, {\n\t\t\tx: this.width,\n\t\t\ty: this.chartHeight\n\t\t})).attr({\n\t\t\tstroke: TEXT_COLOR\n\t\t});\n\n\t\t// 后续走势\n\t\tvar txt = this.paper.text(this.offset, this.chartHeight - BOTTOM_TEXT_HEIGHT, '后续走势').attr('fill', '#0287fe');\n\n\t\tvar box = txt.getBBox();\n\t\tvar width = box.width,\n\t\t    height = box.height;\n\n\t\tvar x = (this.width - this.offset) / 2 + this.offset;\n\t\tvar y = this.chartHeight - BOTTOM_TEXT_HEIGHT + height / 2 + (BOTTOM_TEXT_HEIGHT - height) / 2;\n\n\t\ttxt.attr({\n\t\t\tx: x,\n\t\t\ty: y\n\t\t});\n\n\t\t// |-\n\t\tthis.paper.path(createPathString({\n\t\t\tx: this.offset,\n\t\t\ty: this.chartHeight - BOTTOM_TEXT_HEIGHT / 2\n\t\t}, {\n\t\t\tx: x - width / 2,\n\t\t\ty: this.chartHeight - BOTTOM_TEXT_HEIGHT / 2\n\t\t})).attr({\n\t\t\tstroke: '#0287fe'\n\t\t});\n\n\t\t// -|\n\t\tthis.paper.path(createPathString({\n\t\t\tx: this.width,\n\t\t\ty: this.chartHeight - BOTTOM_TEXT_HEIGHT / 2\n\t\t}, {\n\t\t\tx: x + width / 2,\n\t\t\ty: this.chartHeight - BOTTOM_TEXT_HEIGHT / 2\n\t\t})).attr({\n\t\t\tstroke: '#0287fe'\n\t\t});\n\t}\n};\n\nObject.assign(ChartWithVolume.prototype, ChartPrototype);\n\nmodule.exports = ChartWithVolume;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ChartWithVolume.js\n// module id = 0\n// module chunks = 0\n//# sourceURL=webpack:///./src/ChartWithVolume.js?");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("'use strict';\n\nmodule.exports = function (stock) {\n\tvar keys = ['low', 'high', 'open', 'close'];\n\n\tkeys.forEach(function (key) {\n\t\tstock[key] = Number(stock[key]);\n\t});\n\n\treturn stock;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/str2number.js\n// module id = 1\n// module chunks = 0 1\n//# sourceURL=webpack:///./src/libs/str2number.js?");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("module.exports = window.d3;\n\n//////////////////\n// WEBPACK FOOTER\n// external \"window.d3\"\n// module id = 2\n// module chunks = 0 1\n//# sourceURL=webpack:///external_%22window.d3%22?");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("module.exports = window.Raphael;\n\n//////////////////\n// WEBPACK FOOTER\n// external \"window.Raphael\"\n// module id = 3\n// module chunks = 0 1\n//# sourceURL=webpack:///external_%22window.Raphael%22?");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("'use strict';\n\nvar MARGIN_TABLE = {\n\t10: 4,\n\t20: 3,\n\t40: 1,\n\t60: 1\n};\n\nvar PIXEL_FIX = 0.5;\nvar OUTTER_MARGIN = 2;\nvar VOL_HEIGHT = 66;\nvar FONT_SIZE = 20;\nvar WIN_COLOR = '#e63232';\nvar LOSS_COLOR = '#55a500';\nvar STROKE_COLOR = '#d8d8d8';\nvar DASH_COLOR = '#999999';\nvar BOTTOM_TEXT_HEIGHT = 20;\nvar TEXT_COLOR = '#0287fe';\n\nmodule.exports = {\n\tMARGIN_TABLE: MARGIN_TABLE,\n\tOUTTER_MARGIN: OUTTER_MARGIN,\n\tVOL_HEIGHT: VOL_HEIGHT,\n\tFONT_SIZE: FONT_SIZE,\n\tPIXEL_FIX: PIXEL_FIX,\n\tWIN_COLOR: WIN_COLOR,\n\tLOSS_COLOR: LOSS_COLOR,\n\tSTROKE_COLOR: STROKE_COLOR,\n\tDASH_COLOR: DASH_COLOR,\n\tBOTTOM_TEXT_HEIGHT: BOTTOM_TEXT_HEIGHT,\n\tTEXT_COLOR: TEXT_COLOR\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/config.js\n// module id = 4\n// module chunks = 0 1\n//# sourceURL=webpack:///./src/libs/config.js?");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nvar pixelFix = 0.5;\n\nvar px = function px(value) {\n\tvalue = Math.floor(value);\n\treturn value + pixelFix;\n};\n\nmodule.exports = px;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/px.js\n// module id = 5\n// module chunks = 0 1\n//# sourceURL=webpack:///./src/libs/px.js?");

/***/ },
/* 6 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nvar createPathString = function createPathString() {\n\tfor (var _len = arguments.length, points = Array(_len), _key = 0; _key < _len; _key++) {\n\t\tpoints[_key] = arguments[_key];\n\t}\n\n\tvar pathString = \"M\" + points[0].x + \",\" + points[0].y;\n\n\tfor (var i = 1; i < points.length; i++) {\n\t\tpathString += \"L\" + points[i].x + \",\" + points[i].y;\n\t}\n\n\treturn pathString;\n};\n\nmodule.exports = createPathString;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/createPathString.js\n// module id = 6\n// module chunks = 0 1\n//# sourceURL=webpack:///./src/libs/createPathString.js?");

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar d3 = __webpack_require__(2);\nvar $ = __webpack_require__(8);\nvar Raphel = __webpack_require__(3);\n\nvar _require = __webpack_require__(4),\n    MARGIN_TABLE = _require.MARGIN_TABLE,\n    CANDLE_WIDTH = _require.CANDLE_WIDTH,\n    OUTTER_MARGIN = _require.OUTTER_MARGIN,\n    VOL_HEIGHT = _require.VOL_HEIGHT,\n    FONT_SIZE = _require.FONT_SIZE,\n    STROKE_COLOR = _require.STROKE_COLOR,\n    WIN_COLOR = _require.WIN_COLOR,\n    LOSS_COLOR = _require.LOSS_COLOR,\n    PIXEL_FIX = _require.PIXEL_FIX;\n\nvar px = function px(value) {\n\tvalue = Math.floor(value);\n\treturn value + PIXEL_FIX;\n};\n\nvar createPathString = __webpack_require__(6);\n\nvar ChartPrototype = {\n\tdrawHelperLines: function drawHelperLines(yScale) {\n\t\t// K线横向辅助线\n\t\tfor (var i = 1; i < this.ticksY - 1; i++) {\n\t\t\tvar x1 = px(0);\n\t\t\tvar y1 = px(this.height - yScale(i));\n\t\t\tvar x2 = px(this.width);\n\t\t\tvar y2 = px(this.height - yScale(i));\n\n\t\t\t// console.log(x1, y1, x2, y2)\n\n\t\t\tvar pathString = createPathString({ x: x1, y: y1 }, { x: x2, y: y2 });\n\n\t\t\tthis.paper.path(pathString).attr({\n\t\t\t\tstroke: STROKE_COLOR\n\t\t\t});\n\t\t}\n\t},\n\tdrawCandles: function drawCandles(baseWidth) {\n\t\tvar _this = this;\n\n\t\tvar round = Math.round;\n\t\tvar candleData = this.candleData,\n\t\t    predictData = this.predictData,\n\t\t    low = this.low,\n\t\t    high = this.high;\n\n\t\tvar scaleY = d3.scaleLinear().domain([low, high]).rangeRound([this.height, 0]);\n\t\tvar totalWidth = baseWidth - OUTTER_MARGIN * 2;\n\t\tvar count = candleData.length;\n\t\tvar candleWidth = 2 * totalWidth / (3 * count - 1);\n\t\tvar candleSpace = candleWidth / 2;\n\n\t\tif (candleSpace < 1) {\n\t\t\tcandleSpace = 0;\n\t\t\tcandleWidth = totalWidth / count;\n\t\t}\n\n\t\t// console.log('candleWidth, candleSpace', candleWidth, candleSpace)\n\n\t\tthis.shadowXList = [];\n\t\tthis.paper.setStart();\n\n\t\tcandleData.forEach(function (item, index) {\n\t\t\tvar open = item.open,\n\t\t\t    close = item.close,\n\t\t\t    low = item.low,\n\t\t\t    high = item.high;\n\n\t\t\tvar x = OUTTER_MARGIN + round(index * (candleWidth + candleSpace));\n\t\t\tvar y1 = void 0,\n\t\t\t    y2 = void 0,\n\t\t\t    color = void 0,\n\t\t\t    height = void 0;\n\n\t\t\tif (open > close) {\n\t\t\t\ty1 = scaleY(open);\n\t\t\t\ty2 = scaleY(close);\n\n\t\t\t\tcolor = LOSS_COLOR;\n\t\t\t} else {\n\t\t\t\ty1 = scaleY(close);\n\t\t\t\ty2 = scaleY(open);\n\n\t\t\t\tcolor = WIN_COLOR;\n\t\t\t}\n\n\t\t\theight = Math.abs(y1 - y2);\n\n\t\t\t// console.log('蜡烛块信息:', px(x), px(y1), candleWidth, height)\n\n\t\t\t// 实体块\n\t\t\t_this.paper.rect(x, y1, candleWidth, height).attr({\n\t\t\t\t'fill': color,\n\t\t\t\t'stroke-width': 0\n\t\t\t});\n\n\t\t\t// 上下影线\n\t\t\tvar shadowX = px(x + round(candleWidth / 2));\n\t\t\tvar pathString = createPathString({\n\t\t\t\tx: shadowX,\n\t\t\t\ty: px(scaleY(high))\n\t\t\t}, {\n\t\t\t\tx: shadowX,\n\t\t\t\ty: px(scaleY(low))\n\t\t\t});\n\n\t\t\t_this.shadowXList.push(shadowX);\n\t\t\t_this.paper.path(pathString).attr('stroke', color);\n\t\t});\n\n\t\tthis.candleWidth = candleWidth;\n\t\tthis.candleSpace = candleSpace;\n\t\tthis.candleY = scaleY;\n\n\t\tthis.candleSet = this.paper.setFinish();\n\n\t\tthis.drawPolyline();\n\t\tthis.hidePolySet();\n\t},\n\tdrawVolumes: function drawVolumes() {\n\t\tvar _this2 = this;\n\n\t\tvar round = Math.round;\n\t\t// 量线，绘制量柱\n\t\tvar volX = 0;\n\t\tvar volY = this.height + FONT_SIZE; // 加文字高度\n\t\tvar volWidth = this.width;\n\t\tvar volHeight = VOL_HEIGHT;\n\t\tvar candleData = this.candleData;\n\n\t\tvar candleWidth = this.candleWidth,\n\t\t    candleSpace = this.candleSpace;\n\t\t// 量图边框\n\n\t\tthis.paper.rect(px(volX), px(volY), volWidth, volHeight - 1).attr('stroke', STROKE_COLOR);\n\n\t\tvar maxVol = candleData.reduce(function (prev, curr) {\n\t\t\tif (curr.volume > prev) {\n\t\t\t\treturn curr.volume;\n\t\t\t}\n\n\t\t\treturn prev;\n\t\t}, candleData[0].volume);\n\n\t\tvar volLinear = d3.scaleLinear().domain([0, maxVol]).rangeRound([0, volHeight]);\n\n\t\t// 量柱横向辅助线\n\t\tvar p1 = {\n\t\t\tx: px(0),\n\t\t\ty: px(this.height + FONT_SIZE + (volHeight >> 1))\n\t\t};\n\n\t\tvar p2 = {\n\t\t\tx: px(this.width),\n\t\t\ty: px(this.height + FONT_SIZE + (volHeight >> 1))\n\t\t};\n\n\t\tthis.paper.path(createPathString(p1, p2)).attr({\n\t\t\tstroke: STROKE_COLOR\n\t\t});\n\n\t\t// 量柱\n\t\tcandleData.forEach(function (item, index, arr) {\n\t\t\tvar x = OUTTER_MARGIN + round(index * (candleWidth + candleSpace));\n\t\t\tvar h = volLinear(item.volume);\n\t\t\tvar y = _this2.height + FONT_SIZE + volHeight - h;\n\t\t\tvar open = item.open,\n\t\t\t    close = item.close;\n\n\t\t\tvar color = void 0;\n\n\t\t\tif (open > close) {\n\t\t\t\tcolor = '#55a500';\n\t\t\t} else {\n\t\t\t\tcolor = '#e63232';\n\t\t\t}\n\n\t\t\t_this2.paper.rect(x, y, candleWidth, h).attr({\n\t\t\t\tfill: color,\n\t\t\t\t'stroke-width': 0\n\t\t\t});\n\t\t});\n\t},\n\tcreateEventLayerNormal: function createEventLayerNormal() {\n\t\tvar _this3 = this;\n\n\t\tvar elem = $('<div>').css({\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: this.chartWidth,\n\t\t\theight: this.chartHeight\n\t\t});\n\n\t\t$(this.container).css({\n\t\t\tposition: 'relative'\n\t\t}).append(elem);\n\n\t\tvar offset = elem.offset();\n\t\tvar paper = new Raphel(elem[0], this.chartWidth, this.chartHeight);\n\t\tvar scaleLeft;\n\t\tvar floatLine;\n\t\tvar tooltip;\n\n\t\tvar line = function line(x, y) {\n\t\t\tif (!floatLine) {\n\t\t\t\tfloatLine = paper.path(createPathString({\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(0)\n\t\t\t\t}, {\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(y)\n\t\t\t\t})).attr({\n\t\t\t\t\tstroke: STROKE_COLOR\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfloatLine.attr({\n\t\t\t\tpath: createPathString({\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(0)\n\t\t\t\t}, {\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(y)\n\t\t\t\t}),\n\t\t\t\tstroke: STROKE_COLOR\n\t\t\t});\n\t\t};\n\n\t\telem.on('mouseover', function (e) {\n\t\t\tif (scaleLeft === undefined) {\n\t\t\t\tscaleLeft = d3.scaleLinear().domain([0, _this3.width]).rangeRound([0, _this3.shadowXList.length - 1]);\n\t\t\t}\n\n\t\t\tif (tooltip === undefined) {\n\t\t\t\ttooltip = $('<div>').css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: 10\n\t\t\t\t});\n\n\t\t\t\t_this3.eventLayer.append(tooltip);\n\t\t\t}\n\t\t});\n\n\t\telem.on('mousemove', function (e) {\n\t\t\tif (_this3.shadowXList === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar x = e.pageX - offset.left;\n\t\t\tvar index = scaleLeft(x);\n\t\t\tvar x = _this3.shadowXList[index];\n\n\t\t\tif (x === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tline(x, _this3.needVolume ? _this3.height + FONT_SIZE + VOL_HEIGHT : _this3.height);\n\n\t\t\ttooltip.css('left', x + 5).html(_this3.options.tooltip.call(_this3, _this3.candleData[index]));\n\t\t});\n\n\t\telem.on('mouseout', function (e) {\n\t\t\tscaleLeft = undefined;\n\t\t\tfloatLine = undefined;\n\t\t\tpaper.clear();\n\t\t\ttooltip.remove();\n\t\t\ttooltip = undefined;\n\t\t});\n\n\t\tthis.eventLayer = elem;\n\t},\n\tcreateEventLayer: function createEventLayer() {\n\t\tvar _this4 = this;\n\n\t\tvar elem = $('<div>').css({\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: this.chartWidth,\n\t\t\theight: this.chartHeight\n\t\t});\n\n\t\t$(this.container).css({\n\t\t\tposition: 'relative'\n\t\t}).append(elem);\n\n\t\tvar offset = elem.offset();\n\t\tvar paper = new Raphel(elem[0], this.chartWidth, this.chartHeight);\n\t\tvar scaleLeft;\n\t\tvar scaleRight;\n\t\tvar floatLine;\n\t\tvar tooltip;\n\n\t\tvar line = function line(x, y) {\n\t\t\tif (!floatLine) {\n\t\t\t\tfloatLine = paper.path(createPathString({\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(0)\n\t\t\t\t}, {\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(y)\n\t\t\t\t})).attr({\n\t\t\t\t\tstroke: STROKE_COLOR\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfloatLine.attr({\n\t\t\t\tpath: createPathString({\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(0)\n\t\t\t\t}, {\n\t\t\t\t\tx: px(x),\n\t\t\t\t\ty: px(y)\n\t\t\t\t}),\n\t\t\t\tstroke: STROKE_COLOR\n\t\t\t});\n\t\t};\n\n\t\telem.on('mouseenter', function (e) {\n\t\t\tif (scaleLeft === undefined) {\n\t\t\t\tscaleLeft = d3.scaleLinear().domain([0, _this4.offset]).rangeRound([0, _this4.shadowXList.length - 1]);\n\n\t\t\t\tif (_this4.predictXList) {\n\t\t\t\t\tscaleRight = d3.scaleLinear().domain([_this4.offset, _this4.width]).rangeRound([0, _this4.predictXList.length - 1]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tooltip === undefined) {\n\t\t\t\ttooltip = $('<div>').css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: 10\n\t\t\t\t});\n\n\t\t\t\t_this4.eventLayer.append(tooltip);\n\t\t\t}\n\t\t});\n\n\t\telem.on('mousemove', function (e) {\n\t\t\tif (_this4.shadowXList === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar x = e.pageX - offset.left;\n\n\t\t\tif (x < _this4.offset) {\n\t\t\t\tvar index = scaleLeft(x);\n\t\t\t\tvar x = _this4.shadowXList[index];\n\n\t\t\t\tif (x === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tline(x, _this4.needVolume ? _this4.chartHeight : _this4.height);\n\n\t\t\t\ttooltip.css('left', x + 5).html(_this4.options.tooltip.call(_this4, _this4.candleData[index]));\n\t\t\t} else {\n\t\t\t\tif (_this4.predictXList === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar index = scaleRight(x);\n\t\t\t\tif (index === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (index >= _this4.predictXList.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar x = _this4.predictXList[index];\n\t\t\t\tline(x, _this4.needVolume ? _this4.chartHeight : _this4.height);\n\n\t\t\t\ttooltip.css('left', x + 5).html(_this4.options.tooltip.call(_this4, _this4.predictData[index]));\n\t\t\t}\n\t\t});\n\n\t\telem.on('mouseleave', function (e) {\n\t\t\tscaleLeft = undefined;\n\t\t\tscaleRight = undefined;\n\t\t\tfloatLine = undefined;\n\t\t\tpaper.clear();\n\n\t\t\ttooltip.remove();\n\t\t\ttooltip = undefined;\n\t\t});\n\n\t\tthis.eventLayer = elem;\n\t},\n\n\thideCandleSet: function hideCandleSet() {\n\t\tif (this.candleSet) {\n\t\t\tthis.candleSet.hide();\n\t\t}\n\t},\n\n\tshowCandleSet: function showCandleSet() {\n\t\tthis.candleSet.show();\n\t},\n\n\thidePolySet: function hidePolySet() {\n\t\tif (this.polySet) {\n\t\t\tthis.polySet.hide();\n\t\t}\n\t},\n\n\tshowPolySet: function showPolySet() {\n\t\tthis.polySet.show();\n\t},\n\t// 收盘价折线\n\tdrawPolyline: function drawPolyline() {\n\t\tvar _this5 = this;\n\n\t\tthis.paper.setStart();\n\n\t\tvar points = this.candleData.map(function (item, i) {\n\t\t\tvar x = _this5.shadowXList[i];\n\t\t\tvar y = _this5.candleY(_this5.candleData[i].close);\n\n\t\t\treturn {\n\t\t\t\tx: px(x),\n\t\t\t\ty: px(y)\n\t\t\t};\n\t\t});\n\n\t\tthis.paper.path(createPathString.apply(undefined, _toConsumableArray(points))).attr({\n\t\t\tstroke: '#999'\n\t\t});\n\n\t\tthis.polySet = this.paper.setFinish();\n\t},\n\tclear: function clear() {\n\t\tthis.candleSet && this.candleSet.clear();\n\t\tthis.polySet && this.polySet.clear();\n\t\tthis.paper.clear();\n\t},\n\tupdate: function update(_ref) {\n\t\tvar candleData = _ref.candleData,\n\t\t    predictData = _ref.predictData,\n\t\t    cycle = _ref.cycle;\n\n\t\tthis.clear();\n\n\t\tif (candleData !== undefined) {\n\t\t\tthis.candleData = candleData.map(str2number);\n\t\t}\n\n\t\tif (predictData !== undefined) {\n\t\t\tthis.predictData = predictData.map(str2number);\n\t\t}\n\n\t\tif (cycle !== undefined) {\n\t\t\tthis.cycle = cycle;\n\t\t}\n\n\t\tthis.draw();\n\t}\n};\n\nmodule.exports = ChartPrototype;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/ChartPrototype.js\n// module id = 7\n// module chunks = 0 1\n//# sourceURL=webpack:///./src/libs/ChartPrototype.js?");

/***/ },
/* 8 */
/***/ function(module, exports) {

	eval("module.exports = window.$;\n\n//////////////////\n// WEBPACK FOOTER\n// external \"window.$\"\n// module id = 8\n// module chunks = 0 1\n//# sourceURL=webpack:///external_%22window.$%22?");

/***/ }
/******/ ]);