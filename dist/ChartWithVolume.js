var ChartWithVolume=function(t){function e(r){if(i[r])return i[r].exports;var h=i[r]={exports:{},id:r,loaded:!1};return t[r].call(h.exports,h,h.exports,e),h.loaded=!0,h.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var r=i(9),h=i(10),o=i(11),a=i(12),n=i(13),s=(n.OUTTER_MARGIN,n.VOL_HEIGHT),c=n.BOTTOM_TEXT_HEIGHT,l=(n.PIXEL_FIX,n.STROKE_COLOR),d=n.FONT_SIZE,f=n.TEXT_COLOR,p=n.TEXT_MARGIN,u=(i(14),i(15)),v=i(16),g=function(t,e){var i=e.chartWidth,h=e.chartHeight,a=e.candleData,n=e.needVolume,s=e.ticksY,c=e.cycle,l=e.tooltip;this.container=t,this.paper=new o(t,i,h),this.chartWidth=i,this.chartHeight=h,this.candleData=a.map(r),this.needVolume=n||!1,this.ticksY=s||4,this.cycle=c,this.options={tooltip:l}};g.prototype={draw:function(){var t=this,e=this.needVolume?s:0,i=this.candleData,r=i.reduce(function(t,e){return e.low<t?e.low:t},i[0].low),o=i.reduce(function(t,e){return e.high>t?e.high:t},i[0].high);this.low=r,this.high=o,this.width=this.chartWidth,this.height=this.chartHeight-e-d-2*p,this.paper.rect(0,0,this.width,this.height).attr({stroke:l});var a=i.length,n=(a-this.cycle)/a;n=n.toFixed(2),this.offset=this.width*n;var c=(h().domain([0,this.ticksY-1]).rangeRound([0,this.height]),u({x:this.offset,y:0},{x:this.width,y:0},{x:this.width,y:this.height+e+d+2*p},{x:this.offset,y:this.height+e+d+2*p},{x:this.offset,y:0}));this.paper.path(c).attr({fill:"#e7f2fc","stroke-width":1,"fill-opacity":.5,stroke:"#79c0ff"});var f=[i[0].time,i[i.length-this.cycle].time];f.forEach(function(e,i,r){var h,o=t.paper.text(0,0,e).attr("fill","#999"),a=o.getBBox(),n=a.width,s=a.height,c=t.height+s/2+p;h=0===i?0+n/2:1===i?t.offset-n/2:t.width-n/2,o.attr({x:h,y:c})}),this.drawCandles(this.width),this.needVolume&&this.drawVolumes(),this.options.tooltip&&this.createEventLayerNormal()},drawCycleBlock:function(){this.paper.path(u({x:this.offset,y:this.chartHeight-c},{x:this.offset,y:this.chartHeight})).attr({stroke:f}),this.paper.path(u({x:this.width,y:this.chartHeight-c},{x:this.width,y:this.chartHeight})).attr({stroke:f});var t=this.paper.text(this.offset,this.chartHeight-c,"后续走势").attr("fill","#0287fe"),e=t.getBBox(),i=e.width,r=e.height,h=(this.width-this.offset)/2+this.offset,o=this.chartHeight-c+r/2+(c-r)/2;t.attr({x:h,y:o}),this.paper.path(u({x:this.offset,y:this.chartHeight-c/2},{x:h-i/2,y:this.chartHeight-c/2})).attr({stroke:"#0287fe"}),this.paper.path(u({x:this.width,y:this.chartHeight-c/2},{x:h+i/2,y:this.chartHeight-c/2})).attr({stroke:"#0287fe"})}},a(g.prototype,v),t.exports=g},,,,,,,,,function(t,e){"use strict";t.exports=function(t){var e=["low","high","open","close"];return e.forEach(function(e){t[e]=+t[e]}),t}},function(t,e){"use strict";var i=function(){var t,e,i=function(i){return(i-t)/(e-t)},r=function(i){return t=i[0],e=i[i.length-1],this},h=function(t){var e=t[0],r=t[t.length-1];return e=+e,r-=e,function(t){return e+r*i(t)}},o=function(t){var e=t[0],r=t[t.length-1];return e=+e,r-=e,function(t){return Math.round(e+r*i(t))}};return{domain:r,range:h,rangeRound:o}};t.exports=i},function(t,e){t.exports=window.Raphael},function(t,e){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(t){h[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},h)).join("")}catch(t){return!1}}var h=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(t,e){for(var r,a,n=i(t),s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var c in r)h.call(r,c)&&(n[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n}},function(t,e){"use strict";var i={10:4,20:3,40:1,60:1},r=.5,h=2,o=66,a=12,n="#de4c39",s="#55a32d",c="#999999",l="#d8d8d8",d="#999999",f=20,p="#0287fe",u=10;t.exports={MARGIN_TABLE:i,OUTTER_MARGIN:h,VOL_HEIGHT:o,FONT_SIZE:a,PIXEL_FIX:r,WIN_COLOR:n,LOSS_COLOR:s,STROKE_COLOR:l,DASH_COLOR:d,BOTTOM_TEXT_HEIGHT:f,TEXT_COLOR:p,TEXT_MARGIN:u,EQUAL_COLOR:c}},function(t,e){"use strict";var i=.5,r=function(t){return t=Math.floor(t),t+i};t.exports=r},function(t,e){"use strict";var i=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var r="M"+e[0].x+","+e[0].y,h=1;h<e.length;h++)r+="L"+e[h].x+","+e[h].y;return r};t.exports=i},function(t,e,i){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var h=i(10),o=i(17),a=i(11),n=i(9),s=i(18),c=i(13),l=c.OUTTER_MARGIN,d=c.VOL_HEIGHT,f=c.FONT_SIZE,p=c.STROKE_COLOR,u=c.WIN_COLOR,v=c.LOSS_COLOR,g=c.EQUAL_COLOR,y=c.TEXT_MARGIN,w=i(14),m=i(15),x={drawBasic:function(){},drawHelperLines:function(t){for(var e=1;e<this.ticksY-1;e++){var i=w(0),r=w(this.height-t(e)),h=w(this.width),o=w(this.height-t(e)),a=m({x:i,y:r},{x:h,y:o});this.paper.path(a).attr({stroke:p})}},drawCandles:function(t){var e=this,i=Math.round,r=this.candleData,o=(this.predictData,this.low),a=this.high,n=h().domain([o,a]).rangeRound([this.height,0]),s=t-2*l,c=r.length,d=2*s/(3*c-1),f=d/2;f<1&&(f=0,d=s/c),this.closeYList=[],this.shadowXList=[],this.paper.setStart(),r.forEach(function(t,r){var h=t.open,o=t.close,a=t.low,s=t.high,c=l+i(r*(d+f)),p=void 0,y=void 0,x=void 0,O=void 0;h>o?(p=n(h),y=n(o),x=v):h<o?(p=n(o),y=n(h),x=u):(p=y=n(h),x=g),O=Math.abs(p-y),O<1&&(O=1),e.closeYList.push(p),d>=3&&e.paper.rect(c,p,d,O).attr({fill:x,"stroke-width":0});var L=w(c+i(d/2)),T=m({x:L,y:w(n(s))},{x:L,y:w(n(a))});e.shadowXList.push(L),e.paper.path(T).attr("stroke",x)}),this.candleWidth=d,this.candleSpace=f,this.candleY=n,this.candleSet=this.paper.setFinish(),this.drawPolyline(),this.hidePolySet()},drawVolumes:function(){var t=this,e=Math.round,i=0,r=this.height+f+2*y,o=this.width,a=d,n=this.candleData,c=this.candleWidth,x=this.candleSpace;this.paper.rect(w(i),w(r),o,a-1).attr("stroke",p);var O=n.reduce(function(t,e){return Math.max(e.volume,t)},n[0].volume),L=n.reduce(function(t,e){return Math.min(e.volume,t)},n[0].volume),T=h().domain([L,O]).rangeRound([0,a]),S=this.height+f+2*y+(a>>1),E={x:w(0),y:w(S)},H={x:w(this.width),y:w(S)};this.paper.path(m(E,H)).attr({stroke:p});for(var R=[L,(O+L)/2,O],_=this.height+2*y+f,b=this.paper,k=0;k<3;k++){var X=b.text(0,0,s.million(R[k])).attr("fill","#999999"),I=X.getBBox(),C=this.width+y+I.width/2,A=_+a-a/2*k;0===k?A-=I.height/2:2===k&&(A+=I.height/2),X.attr({x:C,y:A})}return n.forEach(function(i,r,h){var o,n=l+e(r*(c+x)),s=T(i.volume),d=t.height+f+2*y+a-s,p=h[r-1];o=p?i.close>p.close?u:v:g,t.paper.rect(n,d,c,s).attr({fill:o,"stroke-width":0})}),!0},createTooltip:function(){var t=o("<div>").css({position:"absolute",top:10});return this.options.tooltip.className&&t.addClass(this.options.tooltip.className),t},getTooltipHtml:function(t,e){var i=this.options.tooltip.fn,r="";return i&&(r=i(t,e)),r},createEventLayerNormal:function(){var t=this,e=o("<div>").css({position:"absolute",left:0,top:0,width:this.chartWidth,height:this.chartHeight});o(this.container).css({position:"relative"}).append(e);var i,r,n,s=e.offset(),c=new a(e[0],this.chartWidth,this.chartHeight),l=function(t,e){r||(r=c.path(m({x:w(t),y:w(0)},{x:w(t),y:w(e)})).attr({stroke:p})),r.attr({path:m({x:w(t),y:w(0)},{x:w(t),y:w(e)}),stroke:p})};e.on("mouseenter",function(e){void 0===i&&(i=h().domain([0,t.width]).rangeRound([0,t.shadowXList.length-1])),void 0===n&&(n=t.createTooltip(),t.eventLayer.append(n))}),e.on("mousemove",function(e){if(void 0!==t.shadowXList){var r,h,o=e.pageX-s.left,a=i(o),o=t.shadowXList[a];if(void 0!==o){var c=t.needVolume?t.height+f+d:t.height;l(o,c),r=t.candleData[a],h=t.closeYList[a],o>=t.width-n.width()?n.css({top:h,left:"",right:t.chartWidth-t.width+5}):n.css({top:h,left:o+5,right:""}),n.html(t.getTooltipHtml(r,a))}}}),e.on("mouseleave",function(t){i=void 0,r=void 0,c.clear(),n.remove(),n=void 0}),this.eventLayer=e},createEventLayer:function(){var t=this,e=this.chartWidth-this.yAxisTextWidth,i=o("<div>").css({position:"absolute",left:0,top:0,width:e,height:this.chartHeight});o(this.container).css({position:"relative"}).append(i);var r,n,s,c,l=i.offset(),d=new a(i[0],e,this.chartHeight);o(window).on("resize",function(t){l=i.offset()});var f=function(t,e){s||(s=d.path(m({x:w(t),y:w(0)},{x:w(t),y:w(e)})).attr({stroke:p})),s.attr({path:m({x:w(t),y:w(0)},{x:w(t),y:w(e)}),stroke:"#aeaeae"})};i.on("mouseenter",function(e){void 0===r&&(r=h().domain([0,t.offset]).rangeRound([0,t.shadowXList.length-1]),t.predictXList&&(n=h().domain([t.offset,t.width]).rangeRound([0,t.predictXList.length-1]))),void 0===c&&(c=t.createTooltip(),t.eventLayer.append(c))}).on("mousemove",function(i){if(void 0!==t.shadowXList){var h,o,a=i.pageX-l.left;if(a<t.offset){var s=r(a),a=t.shadowXList[s];if(void 0===a)return;f(a,t.needVolume?t.chartHeight:t.height),h=t.candleData[s],o=t.closeYList[s],c.html(t.getTooltipHtml(h,"normal"))}else{if(void 0===t.predictXList)return;var s=n(a);if(0===s)return;if(s>=t.predictXList.length)return;var a=t.predictXList[s];f(a,t.needVolume?t.chartHeight:t.height),h=t.predictData[s],o=t.predictCloseYList[s],c.html(t.getTooltipHtml(h,"predict"))}a>=t.width-c.width()?c.css({top:o,left:"",right:e-t.width+5}):c.css({top:o,left:a+5,right:""})}}).on("mouseleave",function(t){r=void 0,n=void 0,s=void 0,d.clear(),c.remove(),c=void 0}),this.eventLayer=i},hideCandleSet:function(){this.candleSet&&this.candleSet.hide()},showCandleSet:function(){this.candleSet.show()},hidePolySet:function(){this.polySet&&this.polySet.hide()},showPolySet:function(){this.polySet.show()},drawPolyline:function(){var t=this;this.paper.setStart();var e=this.candleData.map(function(e,i,r){var h=t.shadowXList[i],o=t.candleY(t.candleData[i].close);return 0===i?h=0:i===r.length-1&&(h=t.offset),{x:w(h),y:w(o)}});this.paper.path(m.apply(void 0,r(e))).attr({stroke:"#297cda","stroke-width":2}),this.polySet=this.paper.setFinish()},clear:function(){this.candleSet&&this.candleSet.clear(),this.polySet&&this.polySet.clear(),this.eventLayer&&this.eventLayer.off().remove(),this.paper.clear()},update:function(t){var e=t.candleData,i=t.predictData,r=t.cycle;this.clear(),void 0!==e&&(this.candleData=e.map(n)),void 0!==i&&(this.predictData=i.map(n)),void 0!==r&&(this.cycle=r),this.draw()}};t.exports=x},function(t,e){t.exports=window.$},function(t,e){"use strict";var i=function(){function t(t,e){var i=[],r=!0,h=!1,o=void 0;try{for(var a,n=t[Symbol.iterator]();!(r=(a=n.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){h=!0,o=t}finally{try{!r&&n.return&&n.return()}finally{if(h)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r={millionBillion:function(t){for(var e=[[1e4,"万"],[1e8,"亿"]],r=e.length-1;r>=0;r--){var h=i(e[r],2),o=h[0],a=h[1];if(t>o){var n=(t/o).toFixed(2);return 0==r&&(n=parseInt(n)),n+a}}return t},million:function(t){var e=parseInt(t/1e4);return e+"万"}};t.exports=r}]);