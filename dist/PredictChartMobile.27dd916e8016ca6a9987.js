var PredictChartMobile=webpackJsonp_name_([3],{0:function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){var a=[],n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(13);a(19);var c="#ff5b5b",h="#3ebf6d",u=a(9),d=a(6),p=.7,f=15,v=2,g=5,m=66,y=a(8),x=function(t){function e(t,a){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));i.options=a,i.svg=d.select(t).append("svg").attr("width",a.width).attr("height",a.height),i.totalHeight=i.options.height,i.candleStickAreaHeight=a.height-f,i.options.width=a.width-v,i.options.volume&&(i.candleStickAreaHeight-=m),i.options.candleData=i.options.candleData.map(u),i.options.predictData=i.options.predictData.map(u);var o=a.candleData,s=a.predictData,l=o.concat(s),c=d.min(l,function(t){return+t.low}),h=d.max(l,function(t){return+t.high});c-=c/50,h+=h/50;var p=d.scaleLinear().domain([c,h]).range([i.candleStickAreaHeight,0]);return i.min=c,i.max=h,i.scaleY=p,i.render(),i}return i(e,t),s(e,[{key:"predictLines",value:function(){var t=this.svg,e=this.scaleY,a=this.options,n=a.width,r=a.candleData,i=a.predictData,o=this.candleStickAreaHeight,s=n*p,l=t.append("g").attr("transform","translate("+s+", 0)"),c=d.area().x(function(t){return t.x}).y0(0).y1(function(t){return t.y});l.append("path").datum([{x:0,y:o},{x:n*(1-p),y:o}]).attr("d",c).attr("class","predict");var h=r[r.length-1];i.unshift({high:h.close,low:h.close,close:h.close});var u=d.scaleLinear().domain([0,i.length-1]).range([0,n*(1-p)]);this.predictScaleX=u;var f=d.line().y(function(t){return e(t.high)}).x(function(t,e){return u(e)});l.append("path").datum(i).attr("class","ceil").attr("d",f);var v=d.line().y(function(t){return e(t.close)}).x(function(t,e){return u(e)});l.append("path").datum(i).attr("class","profit").attr("d",v);var g=d.line().y(function(t){return e(t.low)}).x(function(t,e){return u(e)});l.append("path").datum(i).attr("class","flor").attr("d",g);var m=d.line().y(function(t){return t.y}).x(function(t){return t.x});l.append("path").datum([{x:0,y:0},{x:0,y:this.options.volume?this.totalHeight:o}]).attr("class","tick-line").attr("d",m).attr("stroke-dasharray","5, 3")}},{key:"candleSticks",value:function(){var t=this.svg,e=this.scaleY,a=this.options,n=a.width,r=a.candleData,i=(this.candleStickAreaHeight,n*p),o=d.scaleBand().domain(r.map(function(t,e){return e})).range([0,i]).padding(.4);this.scaleBandX=o;var s=t.append("g").attr("class","candles"),u=function(t){return t.close>t.open?c:t.close<t.open?h:l.EQUAL_COLOR};s.selectAll("rect").data(r).enter().append("rect").attr("class","bar").attr("x",function(t,e){return o(e)}).attr("y",function(t){return e(Math.max(t.open,t.close))}).attr("width",o.bandwidth()).attr("height",function(t){var a=e(Math.min(t.open,t.close))-e(Math.max(t.open,t.close));return a<1&&(a=1),a}).attr("fill",u);var f=d.line().x(function(t){return t.x}).y(function(t){return t.y});s.selectAll("path.shadow").data(r).enter().append("path").attr("class","shadow").attr("d",function(t,a){var n=o(a)+o.bandwidth()/2,r=e(t.high),i=e(t.low);return f([{x:n,y:r},{x:n,y:i}])}).attr("stroke",u),this.candleGroup=s}},{key:"volumes",value:function(){var t=this.svg,e=this.options,a=e.width,n=e.candleData,r=this.candleStickAreaHeight,i=d.min(n,function(t){return t.volume}),o=d.max(n,function(t){return t.volume});o+=o/10;var s=66,l=d.scaleLinear().domain([i,o]).range([s,0]),u=t.append("g").attr("transform","translate(0, "+(r+f-1)+")");u.append("rect").attr("x",0).attr("y",0).attr("width",a).attr("height",s).attr("class","volume");var p=this.scaleBandX,v=u.selectAll(".bar").data(n).enter().append("rect").attr("class","bar").attr("x",function(t,e){return p(e)}).attr("y",function(t){var e=l(t.volume);return e>=s&&(e=s-1),e}).attr("width",p.bandwidth()).attr("height",function(t){var e=s-l(t.volume);return e<1?1:e});v.attr("fill",function(t,e){return t.close>=t.open?c:h}),u.selectAll(".bar").data(n).enter().append("rect").attr("class","bar")}},{key:"axis",value:function(){var t=this.svg,e=(this.scaleY,this.options),a=e.width,n=e.candleData,r=e.predictData,i=this.candleStickAreaHeight,o=a*p,s=d.scaleOrdinal().domain([n[0].time,n[n.length-1].time,r[r.length-1].time]).range([0,o,a]),l=this.min,c=this.max;l=+l,c=+c;var h=d.scaleOrdinal().domain([l,(c+l)/2,c]).range([i,i/2,0]),u=d.axisBottom(s).tickSize(0).tickPadding(g),f=d.axisLeft(h).tickSize(0).tickPadding(g).tickFormat(function(t){return Number(t).toFixed(2)}),v=d.axisBottom(s).tickSize(0).tickFormat(""),m=d.axisRight(h).tickSize(a).tickFormat("");t.append("g").attr("class","axis").attr("transform","translate(0, 0)").call(v);var y=t.append("g").attr("class","axis").attr("transform","translate(0, 0)").call(m),x=t.append("g").attr("class","axis").attr("transform","translate(0, "+i+")").call(u),k=t.append("g").attr("class","axis").attr("transform","translate("+a+", 0)").call(f);x.selectAll(".tick text").attr("text-anchor","end"),x.select(".tick text").attr("text-anchor","start"),k.selectAll(".tick text").each(function(t,e){2==e?d.select(this).attr("transform","translate(0, 10)"):d.select(this).attr("transform","translate(0, -10)")});var w=y.selectAll(".tick line");w.each(function(t,e){0==e&&e==w.length-1||d.select(this).attr("stroke-dasharray","5, 3")})}},{key:"drawPolyline",value:function(){var t=this.options,e=t.candleData,a=t.width,n=d.scaleLinear().domain([0,e.length-1]).range([0,a*p]),r=this.scaleY,i=d.line().x(function(t,e){return n(e)}).y(function(t){return r(t.close)}),o=this.svg.append("g").attr("class","poly");o.append("path").datum(e).attr("d",i).attr("stroke","#297cda").attr("stroke-width",2).attr("fill","none"),this.lineGroup=o}},{key:"togglePoly",value:function(t){this.lineGroup?this.lineGroup.attr("class",t?"poly":"none"):this.drawPolyline()}},{key:"toggleCandle",value:function(t){this.candleGroup.attr("class",t?"candle":"none")}},{key:"events",value:function(){var t,e=this,a=!1,n="ontouchstart"in document;n?(this.svg.on("touchstart",function(){var n=d.touches(this),r=o(n,1),i=o(r[0],2),s=i[0],l=i[1];t=setTimeout(function(){e.handleDragStart(s,l),a=!0},500)}),this.svg.on("touchmove",function(){if(a){var n=d.touches(this),r=o(n,1),i=o(r[0],2),s=i[0],l=i[1];e.handleDragMove(s,l)}else clearTimeout(t)}),this.svg.on("touchend",function(){a?e.handleDragEnd():clearTimeout(t),a=!1})):(this.svg.on("mouseover",function(){var t=d.mouse(this),a=o(t,2),n=a[0],r=a[1];e.handleDragStart(n,r)}),this.svg.on("mousemove",function(){var t=d.mouse(this),a=o(t,2),n=a[0],r=a[1];e.handleDragMove(n,r)}),this.svg.on("mouseout",function(){e.handleDragEnd()}))}},{key:"getHelperLineXY",value:function(t){var e=this.options,a=e.candleData,n=e.predictData,r=e.width,i=this.scaleBandX,o=this.scaleY,s=this.predictScaleX,l=this.options.width*p;if(t>l){var c=r*(1-p)/n.length,h=t-l,u=Math.ceil(h/c);if(u<0||u>=n.length)return{x:-1,y:-1,index:u};var d=l+s(u),f=o(n[u].close);return{x:d,y:f,point:n[u]}}var v=i.step(),g=Math.floor(t/v);if(g<0||g>=a.length)return{x:-1,y:-1,index:g};var m=i.bandwidth(),y=i(g)+m/2,x=o(a[g].close);return{x:y,y:x,point:a[g]}}},{key:"handleDragStart",value:function(t){var e=this.getHelperLineXY(t),t=e.x,a=e.y,n=e.point;if(t!==-1){var r=[{x:0,y:a},{x:this.options.width,y:a}],i=[{x:t,y:0},{x:t,y:this.options.volume?this.totalHeight:this.candleStickAreaHeight}],o=d.line().x(function(t){return t.x}).y(function(t){return t.y}),s=this.svg.append("path"),l=this.svg.append("path");s.datum(r).attr("d",o).attr("class","help"),l.datum(i).attr("d",o).attr("class","help"),this.horizontalLine=s,this.verticalLine=l,this.emit("drag-start",n)}}},{key:"handleDragMove",value:function(t){var e=this.getHelperLineXY(t),t=e.x,a=e.y,n=e.point;if(t!==-1){var r=[{x:0,y:a},{x:this.options.width,y:a}],i=[{x:t,y:0},{x:t,y:this.options.volume?this.totalHeight:this.candleStickAreaHeight}],o=d.line().x(function(t){return t.x}).y(function(t){return t.y});this.horizontalLine.datum(r).attr("d",o),this.verticalLine.datum(i).attr("d",o),this.emit("drag-move",n)}}},{key:"handleDragEnd",value:function(){(this.horizontalLine||this.verticalLine)&&(this.horizontalLine.remove(),this.verticalLine.remove()),this.emit("drag-end")}},{key:"render",value:function(){var t=this.options,e=t.volume,a=t.interactive;this.candleSticks(),this.predictLines(),this.axis(),e&&this.volumes(),a&&this.events()}}]),e}(y);t.exports=x},19:function(t,e,a){var n=a(20);"string"==typeof n&&(n=[[t.id,n,""]]);a(4)(n,{});n.locals&&(t.exports=n.locals)},20:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,"*{margin:0;padding:0}body{-webkit-user-select:none}svg{overflow:visible}svg line,svg rect{shape-rendering:crispEdges}.axis text{fill:#999}.axis path{stroke:#2f2f2f}.shadow{stroke-width:1px;fill:none}.tick line{stroke:#2f2f2f}.tick text{fill:#575757}.tick-line{stroke:#2f2f2f}.predict{fill:#000;fill-opacity:0}.ceil,.flor,.profit{shape-rendering:auto}.ceil,.flor{stroke:#80b5ff;fill:none}.profit{stroke:#e63232;fill:none}.volume{stroke:#2f2f2f;fill:none}.none{display:none}.poly path{shape-rendering:auto}.help{stroke:#d8d8d8}.brush-bar{fill:none;stroke:#ccc}.selection{fill:#2f84cc;opacity:.4;stroke:#000}.ma5,.ma10,.ma20,.ma30{fill:none}.ma5{stroke:#cd4343}.ma10{stroke:#8c3037}.ma20{stroke:#ffca53}.ma30{stroke:#0055a2}.macd{shape-rendering:crispEdges}.dea{stroke:#014375;fill:none}.dif{stroke:#d20;fill:none}",""])}});