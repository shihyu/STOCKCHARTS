var PredictChart=function(t){function e(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var r=i(9),o=i(10),h=i(18),a=i(11),s=.7,n=i(16),c=i(15),d=i(12),l=i(13),p=(l.OUTTER_MARGIN,l.VOL_HEIGHT),u=(l.BOTTOM_TEXT_HEIGHT,l.PIXEL_FIX,l.STROKE_COLOR),f=l.DASH_COLOR,v=l.FONT_SIZE,g=(l.TEXT_COLOR,l.TEXT_MARGIN),y=i(14),w=function(t,e){var i=e.chartWidth,o=e.chartHeight,h=e.candleData,s=e.predictData,n=e.needVolume,c=e.ticksY,d=e.tooltip,l=e.yAxisFormater;this.container=t,this.paper=new a(t,i,o),this.chartWidth=i,this.chartHeight=o,this.candleData=h.map(r),this.predictData=s.map(r),this.needVolume=n,this.ticksY=c,this.options={tooltip:d,yAxisFormater:l}};w.prototype={draw:function(){var t=this,e=this.candleData,i=this.predictData,r=e.concat(i),a=r.reduce(function(t,e){return e.low<t?e.low:t},r[0].low),n=r.reduce(function(t,e){return e.high>t?e.high:t},r[0].high);this.options.yAxisFormater?(this.low=this.options.yAxisFormater(a),this.high=this.options.yAxisFormater(n)):(this.low=a.toFixed(2),this.high=n.toFixed(2));var d,l=e.reduce(function(t,e){return Math.max(e.volume,t)},e[0].volume),w=h.million(l);d=encodeURI(w).length>encodeURI(this.high).length?w:this.high;var m=this.paper.text(0,0,d),x=m.getBBox();this.yAxisTextWidth=x.width>50?x.width:50,m.remove();var O=this.yAxisTextWidth;this.width=this.chartWidth-O-g,this.needVolume?this.height=this.chartHeight-p-v-2*g:this.height=this.chartHeight-v-g,this.paper.rect(y(0),y(0),this.width,this.height).attr({stroke:u}),this.offset=this.width*s;var L=o().domain([0,this.ticksY-1]).rangeRound([0,this.height]),T=c({x:this.offset,y:0},{x:this.width,y:0},{x:this.width,y:this.height},{x:this.offset,y:this.height});this.paper.path(T).attr({fill:"#e7f2fc","stroke-width":0,"fill-opacity":.6});var S=y(this.offset),E=y(0),R=y(this.offset),_=void 0;_=y(this.needVolume?this.height+p+v+2*g:this.height),this.paper.path(c({x:S,y:E},{x:R,y:_})).attr({stroke:f,"stroke-dasharray":"- "});for(var b=o().domain([0,this.ticksY-1]).range([a,n]),k=0;k<this.ticksY;k++){var A=this.width,X=L(k),H=b(k);H=this.options.yAxisFormater?this.options.yAxisFormater(H):Number(H).toFixed(2);var I=this.paper.text(A,X,H).attr("fill","#999"),C=I.getBBox(),D=C.width,j=C.height;A=A+(D>>1)+g,X=0===k?this.height-X-j/2:this.height-X+j/2,I.attr({x:A,y:X})}var F=[e[0].time,e[e.length-1].time,i[i.length-1].time];F.forEach(function(e,i,r){var o,h=t.paper.text(0,0,e).attr("fill","#999"),a=h.getBBox(),s=a.width,n=a.height,c=t.height+n/2+g;0===i?o=0+s/2:1===i?o=t.offset-s/2:(o=t.width-s/2,s>t.width-t.offset&&(o=t.width)),h.attr({x:o,y:c})}),this.drawHelperLines(L),this.drawCandles(this.offset),this.drawPredictWave(),this.needVolume&&this.drawVolumes(),this.options.tooltip&&this.createEventLayer()},drawPredictWave:function(){var t=this.candleData,e=this.predictData,i="#80b5ff",r="#e63232",h=o().domain([0,e.length]).rangeRound([this.offset,this.width]),a=this.candleY,s=[],n=[],d=[],l=t[t.length-1];e.unshift({low:l.close,high:l.close,close:l.close}),this.predictCloseYList=[],this.predictXList=[];for(var p=0;p<e.length;p++){var u=h(p);s.push({x:u,y:a(e[p].high)}),n.push({x:u,y:a(e[p].close)}),this.predictCloseYList.push(a(e[p].close)),d.push({x:u,y:a(e[p].low)}),this.predictXList.push(u)}this.paper.path(c.apply(void 0,s)).attr("stroke",i),this.paper.path(c.apply(void 0,n)).attr("stroke",r),this.paper.path(c.apply(void 0,d)).attr("stroke",i);var v=a(l.close),g=c({x:h(0),y:v},{x:this.width,y:v});this.paper.path(g).attr({stroke:f,"stroke-dasharray":"- "})}},d(w.prototype,n),t.exports=w},,,,,,,,,function(t,e){"use strict";t.exports=function(t){var e=["low","high","open","close"];return e.forEach(function(e){t[e]=+t[e]}),t}},function(t,e){"use strict";var i=function(){var t,e,i=function(i){return(i-t)/(e-t)},r=function(i){return t=i[0],e=i[i.length-1],this},o=function(t){var e=t[0],r=t[t.length-1];return e=+e,r-=e,function(t){return e+r*i(t)}},h=function(t){var e=t[0],r=t[t.length-1];return e=+e,r-=e,function(t){return Math.round(e+r*i(t))}};return{domain:r,range:o,rangeRound:h}};t.exports=i},function(t,e){t.exports=window.Raphael},function(t,e){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var o=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(t,e){for(var r,a,s=i(t),n=1;n<arguments.length;n++){r=Object(arguments[n]);for(var c in r)o.call(r,c)&&(s[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var d=0;d<a.length;d++)h.call(r,a[d])&&(s[a[d]]=r[a[d]])}}return s}},function(t,e){"use strict";var i={10:4,20:3,40:1,60:1},r=.5,o=2,h=66,a=12,s="#de4c39",n="#55a32d",c="#999999",d="#d8d8d8",l="#999999",p=20,u="#0287fe",f=10;t.exports={MARGIN_TABLE:i,OUTTER_MARGIN:o,VOL_HEIGHT:h,FONT_SIZE:a,PIXEL_FIX:r,WIN_COLOR:s,LOSS_COLOR:n,STROKE_COLOR:d,DASH_COLOR:l,BOTTOM_TEXT_HEIGHT:p,TEXT_COLOR:u,TEXT_MARGIN:f,EQUAL_COLOR:c}},function(t,e){"use strict";var i=.5,r=function(t){return t=Math.floor(t),t+i};t.exports=r},function(t,e){"use strict";var i=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var r="M"+e[0].x+","+e[0].y,o=1;o<e.length;o++)r+="L"+e[o].x+","+e[o].y;return r};t.exports=i},function(t,e,i){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var o=i(10),h=i(17),a=i(11),s=i(9),n=i(18),c=i(13),d=c.OUTTER_MARGIN,l=c.VOL_HEIGHT,p=c.FONT_SIZE,u=c.STROKE_COLOR,f=c.WIN_COLOR,v=c.LOSS_COLOR,g=c.EQUAL_COLOR,y=c.TEXT_MARGIN,w=i(14),m=i(15),x={drawBasic:function(){},drawHelperLines:function(t){for(var e=1;e<this.ticksY-1;e++){var i=w(0),r=w(this.height-t(e)),o=w(this.width),h=w(this.height-t(e)),a=m({x:i,y:r},{x:o,y:h});this.paper.path(a).attr({stroke:u})}},drawCandles:function(t){var e=this,i=Math.round,r=this.candleData,h=(this.predictData,this.low),a=this.high,s=o().domain([h,a]).rangeRound([this.height,0]),n=t-2*d,c=r.length,l=2*n/(3*c-1),p=l/2;p<1&&(p=0,l=n/c),this.closeYList=[],this.shadowXList=[],this.paper.setStart(),r.forEach(function(t,r){var o=t.open,h=t.close,a=t.low,n=t.high,c=d+i(r*(l+p)),u=void 0,y=void 0,x=void 0,O=void 0;o>h?(u=s(o),y=s(h),x=v):o<h?(u=s(h),y=s(o),x=f):(u=y=s(o),x=g),O=Math.abs(u-y),O<1&&(O=1),e.closeYList.push(u),l>=3&&e.paper.rect(c,u,l,O).attr({fill:x,"stroke-width":0});var L=w(c+i(l/2)),T=m({x:L,y:w(s(n))},{x:L,y:w(s(a))});e.shadowXList.push(L),e.paper.path(T).attr("stroke",x)}),this.candleWidth=l,this.candleSpace=p,this.candleY=s,this.candleSet=this.paper.setFinish(),this.drawPolyline(),this.hidePolySet()},drawVolumes:function(){var t=this,e=Math.round,i=0,r=this.height+p+2*y,h=this.width,a=l,s=this.candleData,c=this.candleWidth,x=this.candleSpace;this.paper.rect(w(i),w(r),h,a-1).attr("stroke",u);var O=s.reduce(function(t,e){return Math.max(e.volume,t)},s[0].volume),L=s.reduce(function(t,e){return Math.min(e.volume,t)},s[0].volume),T=o().domain([L,O]).rangeRound([0,a]),S=this.height+p+2*y+(a>>1),E={x:w(0),y:w(S)},R={x:w(this.width),y:w(S)};this.paper.path(m(E,R)).attr({stroke:u});for(var _=[L,(O+L)/2,O],b=this.height+2*y+p,k=this.paper,A=0;A<3;A++){var X=k.text(0,0,n.million(_[A])).attr("fill","#999999"),H=X.getBBox(),I=this.width+y+H.width/2,C=b+a-a/2*A;0===A?C-=H.height/2:2===A&&(C+=H.height/2),X.attr({x:I,y:C})}return s.forEach(function(i,r,o){var h,s=d+e(r*(c+x)),n=T(i.volume),l=t.height+p+2*y+a-n,u=o[r-1];h=u?i.close>u.close?f:v:g,t.paper.rect(s,l,c,n).attr({fill:h,"stroke-width":0})}),!0},createTooltip:function(){var t=h("<div>").css({position:"absolute",top:10});return this.options.tooltip.className&&t.addClass(this.options.tooltip.className),t},getTooltipHtml:function(t,e){var i=this.options.tooltip.fn,r="";return i&&(r=i(t,e)),r},createEventLayerNormal:function(){var t=this,e=h("<div>").css({position:"absolute",left:0,top:0,width:this.chartWidth,height:this.chartHeight});h(this.container).css({position:"relative"}).append(e);var i,r,s,n=e.offset(),c=new a(e[0],this.chartWidth,this.chartHeight),d=function(t,e){r||(r=c.path(m({x:w(t),y:w(0)},{x:w(t),y:w(e)})).attr({stroke:u})),r.attr({path:m({x:w(t),y:w(0)},{x:w(t),y:w(e)}),stroke:u})};e.on("mouseenter",function(e){void 0===i&&(i=o().domain([0,t.width]).rangeRound([0,t.shadowXList.length-1])),void 0===s&&(s=t.createTooltip(),t.eventLayer.append(s))}),e.on("mousemove",function(e){if(void 0!==t.shadowXList){var r,o,h=e.pageX-n.left,a=i(h),h=t.shadowXList[a];if(void 0!==h){var c=t.needVolume?t.height+p+l:t.height;d(h,c),r=t.candleData[a],o=t.closeYList[a],h>=t.width-s.width()?s.css({top:o,left:"",right:t.chartWidth-t.width+5}):s.css({top:o,left:h+5,right:""}),s.html(t.getTooltipHtml(r,a))}}}),e.on("mouseleave",function(t){i=void 0,r=void 0,c.clear(),s.remove(),s=void 0}),this.eventLayer=e},createEventLayer:function(){var t=this,e=this.chartWidth-this.yAxisTextWidth,i=h("<div>").css({position:"absolute",left:0,top:0,width:e,height:this.chartHeight});h(this.container).css({position:"relative"}).append(i);var r,s,n,c,d=i.offset(),l=new a(i[0],e,this.chartHeight);h(window).on("resize",function(t){d=i.offset()});var p=function(t,e){n||(n=l.path(m({x:w(t),y:w(0)},{x:w(t),y:w(e)})).attr({stroke:u})),n.attr({path:m({x:w(t),y:w(0)},{x:w(t),y:w(e)}),stroke:"#aeaeae"})};i.on("mouseenter",function(e){void 0===r&&(r=o().domain([0,t.offset]).rangeRound([0,t.shadowXList.length-1]),t.predictXList&&(s=o().domain([t.offset,t.width]).rangeRound([0,t.predictXList.length-1]))),void 0===c&&(c=t.createTooltip(),t.eventLayer.append(c))}).on("mousemove",function(i){if(void 0!==t.shadowXList){var o,h,a=i.pageX-d.left;if(a<t.offset){var n=r(a),a=t.shadowXList[n];if(void 0===a)return;p(a,t.needVolume?t.chartHeight:t.height),o=t.candleData[n],h=t.closeYList[n],c.html(t.getTooltipHtml(o,"normal"))}else{if(void 0===t.predictXList)return;var n=s(a);if(0===n)return;if(n>=t.predictXList.length)return;var a=t.predictXList[n];p(a,t.needVolume?t.chartHeight:t.height),o=t.predictData[n],h=t.predictCloseYList[n],c.html(t.getTooltipHtml(o,"predict"))}a>=t.width-c.width()?c.css({top:h,left:"",right:e-t.width+5}):c.css({top:h,left:a+5,right:""})}}).on("mouseleave",function(t){r=void 0,s=void 0,n=void 0,l.clear(),c.remove(),c=void 0}),this.eventLayer=i},hideCandleSet:function(){this.candleSet&&this.candleSet.hide()},showCandleSet:function(){this.candleSet.show()},hidePolySet:function(){this.polySet&&this.polySet.hide()},showPolySet:function(){this.polySet.show()},drawPolyline:function(){var t=this;this.paper.setStart();var e=this.candleData.map(function(e,i,r){var o=t.shadowXList[i],h=t.candleY(t.candleData[i].close);return 0===i?o=0:i===r.length-1&&(o=t.offset),{x:w(o),y:w(h)}});this.paper.path(m.apply(void 0,r(e))).attr({stroke:"#297cda","stroke-width":2}),this.polySet=this.paper.setFinish()},clear:function(){this.candleSet&&this.candleSet.clear(),this.polySet&&this.polySet.clear(),this.eventLayer&&this.eventLayer.off().remove(),this.paper.clear()},update:function(t){var e=t.candleData,i=t.predictData,r=t.cycle;this.clear(),void 0!==e&&(this.candleData=e.map(s)),void 0!==i&&(this.predictData=i.map(s)),void 0!==r&&(this.cycle=r),this.draw()}};t.exports=x},function(t,e){t.exports=window.$},function(t,e){"use strict";var i=function(){function t(t,e){var i=[],r=!0,o=!1,h=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){o=!0,h=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw h}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r={millionBillion:function(t){for(var e=[[1e4,"万"],[1e8,"亿"]],r=e.length-1;r>=0;r--){var o=i(e[r],2),h=o[0],a=o[1];if(t>h){var s=(t/h).toFixed(2);return 0==r&&(s=parseInt(s)),s+a}}return t},million:function(t){var e=parseInt(t/1e4);return e+"万"}};t.exports=r}]);