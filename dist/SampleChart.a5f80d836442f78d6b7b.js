var SampleChart=webpackJsonp_name_([4],{0:function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),r=a(13);a(21);var s="#ff5b5b",o="#3ebf6d",l=a(9),c=a(6),h=15,d=2,u=5,p=66,f=function(){function t(e,a){n(this,t),this.options=a,this.svg=c.select(e).append("svg").attr("width",a.width).attr("height",a.height),this.totalHeight=this.options.height,this.candleStickAreaHeight=a.height-h,this.options.width=a.width-d,this.options.volume&&(this.candleStickAreaHeight-=p),this.options.candleData=this.options.candleData.map(l);var i=a.candleData,r=c.min(i,function(t){return+t.low}),s=c.max(i,function(t){return+t.high});r-=r/50,s+=s/50;var o=c.scaleLinear().domain([r,s]).range([this.candleStickAreaHeight,0]);this.min=r,this.max=s,this.scaleY=o,this.render()}return i(t,[{key:"predictLines",value:function(){var t=this.svg,e=(this.scaleY,this.options),a=e.width,n=e.candleData,i=e.cycle,r=this.options.height,s=n.length,o=(s-i)/s,l=a*o,h=t.append("g").attr("transform","translate("+l+", 0)"),d=c.area().x(function(t){return t.x}).y0(0).y1(function(t){return t.y});h.append("path").datum([{x:0,y:r},{x:a*(1-o),y:r}]).attr("d",d).attr("class","predict"),setTimeout(function(){t.append("g").attr("transform","translate("+l+", 0)").append("path").datum([{x:0,y:r-1},{x:Math.ceil(a*(1-o)),y:r-1}]).attr("d",d).attr("fill","none").attr("stroke","#79c0ff")},0)}},{key:"candleSticks",value:function(){var t=this.svg,e=this.scaleY,a=this.options,n=a.width,i=a.candleData,l=(this.candleStickAreaHeight,c.scaleBand().domain(i.map(function(t,e){return e})).range([0,n]).padding(.4));this.scaleBandX=l;var h=t.append("g").attr("class","candles"),d=function(t){return t.close>t.open?s:t.close<t.open?o:r.EQUAL_COLOR};h.selectAll("rect").data(i).enter().append("rect").attr("class","bar").attr("x",function(t,e){return l(e)}).attr("y",function(t){return e(Math.max(t.open,t.close))}).attr("width",l.bandwidth()).attr("height",function(t){var a=e(Math.min(t.open,t.close))-e(Math.max(t.open,t.close));return a<1&&(a=1),a}).attr("fill",d);var u=c.line().x(function(t){return t.x}).y(function(t){return t.y});h.selectAll("path.shadow").data(i).enter().append("path").attr("class","shadow").attr("d",function(t,a){var n=l(a)+l.bandwidth()/2,i=e(t.high),r=e(t.low);return u([{x:n,y:i},{x:n,y:r}])}).attr("stroke",d),this.candleGroup=h}},{key:"volumes",value:function(){var t=this.svg,e=this.options,a=e.width,n=e.candleData,i=this.candleStickAreaHeight,r=c.min(n,function(t){return t.volume}),l=c.max(n,function(t){return t.volume});l+=l/10;var d=66,u=c.scaleLinear().domain([r,l]).range([d,0]),p=t.append("g").attr("transform","translate(0, "+(i+h-1)+")");p.append("rect").attr("x",0).attr("y",0).attr("width",a).attr("height",d).attr("class","volume");var f=this.scaleBandX;p.selectAll(".bar").data(n).enter().append("rect").attr("class","bar").attr("x",function(t,e){return f(e)}).attr("y",function(t){return u(t.volume)}).attr("width",f.bandwidth()).attr("height",function(t){return d-u(t.volume)}).attr("fill",function(t){return t.close>=t.open?s:o}),p.selectAll(".bar").data(n).enter().append("rect").attr("class","bar")}},{key:"axis",value:function(){var t=this.svg,e=(this.scaleY,this.options),a=e.width,n=e.candleData,i=e.cycle,r=this.candleStickAreaHeight,s=n.length,o=(s-i)/s,l=a*o,h=c.scaleOrdinal().domain([n[0].time,n[s-i].time,""]).range([0,l,a]),d=this.min,p=this.max;d=+d,p=+p;var f=c.scaleOrdinal().domain([d,(p+d)/2,p]).range([r,r/2,0]),v=c.axisBottom(h).tickSize(0).tickPadding(u),g=c.axisLeft(f).tickSize(0).tickPadding(u).tickFormat(function(t){return t.toFixed(2)}),m=c.axisBottom(h).tickSize(0).tickFormat(""),y=c.axisRight(f).tickSize(a).tickFormat("");t.append("g").attr("class","axis").attr("transform","translate(0, 0)").call(m);var k=t.append("g").attr("class","axis").attr("transform","translate(0, 0)").call(y),x=t.append("g").attr("class","axis").attr("transform","translate(0, "+r+")").call(v),w=t.append("g").attr("class","axis").attr("transform","translate("+a+", 0)").call(g);x.selectAll(".tick text").attr("text-anchor","end"),x.select(".tick text").attr("text-anchor","start"),w.selectAll(".tick text").each(function(t,e){2==e?c.select(this).attr("transform","translate(0, 10)"):c.select(this).attr("transform","translate(0, -10)")});var b=k.selectAll(".tick line");b.each(function(t,e){0==e&&e==b.length-1||c.select(this).attr("stroke-dasharray","5, 3")})}},{key:"drawPolyline",value:function(){var t=this.options,e=t.candleData,a=t.width,n=c.scaleLinear().domain([0,e.length-1]).range([0,a*PREDICT_PERCENT]),i=this.scaleY,r=c.line().x(function(t,e){return n(e)}).y(function(t){return i(t.close)}),s=this.svg.append("g").attr("class","poly");s.append("path").datum(e).attr("d",r).attr("stroke","#297cda").attr("stroke-width",2).attr("fill","none"),this.lineGroup=s}},{key:"togglePoly",value:function(t){this.lineGroup?this.lineGroup.attr("class",t?"poly":"none"):this.drawPolyline()}},{key:"toggleCandle",value:function(t){this.candleGroup.attr("class",t?"candle":"none")}},{key:"events",value:function(){var t=function(t){var e;return e="ontouchstart"in window?c.touches(t)[0]:c.mouse(t)},e=this,a=c.drag().container(function(){return this}).on("start",function(){var a=t(this);e.handleDragStart(a[0],a[1])}).on("drag",function(){var a=t(this);e.handleDragMove(a[0],a[1])}).on("end",function(){e.handleDragEnd()});this.svg.call(a)}},{key:"getHelperLineXY",value:function(t){var e=this.options.candleData,a=this.scaleBandX,n=this.scaleY,i=a.step(),r=Math.floor(t/i);if(r<0||r>=e.length)return{x:-1,y:-1};var s=a.bandwidth();t=a(r)+s/2;var o=n(e[r].close);return{x:t,y:o}}},{key:"handleDragStart",value:function(t){var e=this.getHelperLineXY(t),t=e.x,a=e.y;if(t!==-1){var n=[{x:0,y:a},{x:this.options.width,y:a}],i=[{x:t,y:0},{x:t,y:this.options.volume?this.totalHeight:this.candleStickAreaHeight}],r=c.line().x(function(t){return t.x}).y(function(t){return t.y}),s=this.svg.append("path"),o=this.svg.append("path");s.datum(n).attr("d",r).attr("class","help"),o.datum(i).attr("d",r).attr("class","help"),this.horizontalLine=s,this.verticalLine=o}}},{key:"handleDragMove",value:function(t){var e=this.getHelperLineXY(t),t=e.x,a=e.y;if(t!==-1){var n=[{x:0,y:a},{x:this.options.width,y:a}],i=[{x:t,y:0},{x:t,y:this.options.volume?this.totalHeight:this.candleStickAreaHeight}],r=c.line().x(function(t){return t.x}).y(function(t){return t.y});this.horizontalLine.datum(n).attr("d",r),this.verticalLine.datum(i).attr("d",r)}}},{key:"handleDragEnd",value:function(){(this.horizontalLine||this.verticalLine)&&(this.horizontalLine.remove(),this.verticalLine.remove())}},{key:"render",value:function(){var t=this.options,e=t.volume,a=t.interactive;this.predictLines(),this.axis(),this.candleSticks(),e&&this.volumes(),a&&this.events()}},{key:"destory",value:function(){this.svg.remove()}}]),t}();t.exports=f},21:function(t,e,a){var n=a(22);"string"==typeof n&&(n=[[t.id,n,""]]);a(4)(n,{});n.locals&&(t.exports=n.locals)},22:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,"*{margin:0;padding:0}body{-webkit-user-select:none}svg{overflow:visible}svg line,svg rect{shape-rendering:crispEdges}.axis text{fill:#999}.axis path{stroke:#ccc}.shadow{stroke-width:1px;fill:none}.tick line{stroke:#ccc}.predict{fill:#e7f2fc;fill-opacity:.6}.ceil,.flor,.profit{shape-rendering:auto}.ceil,.flor{stroke:#80b5ff;fill:none}.profit{stroke:#e63232;fill:none}.volume{stroke:#ccc;fill:none}.none{display:none}.poly path{shape-rendering:auto}.help{stroke:#d8d8d8}.brush-bar{fill:none;stroke:#ccc}.selection{fill:#2f84cc;opacity:.4;stroke:#000}.ma5,.ma10,.ma20,.ma30{fill:none}.ma5{stroke:#cd4343}.ma10{stroke:#8c3037}.ma20{stroke:#ffca53}.ma30{stroke:#0055a2}.macd{shape-rendering:crispEdges}.dea{stroke:#014375;fill:none}.dif{stroke:#d20;fill:none}",""])}});